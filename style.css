/* style.css (updated) - stronger live background + UI polish */

/* ========== Variables ========== */
:root{
  --bg-1: #0f1724;
  --bg-2: #071025;
  --accent-1: #5eead4;
  --accent-2: #7c3aed;
  --muted: rgba(255,255,255,0.80);
  --glass: rgba(255,255,255,0.03);

  --font-sans: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --base-font-size: 16px;

  --sidebar-width: 220px;
  --radius: 10px;
  --shadow-1: 0 10px 40px rgba(2,6,23,0.6);

  --bg-speed-1: 20s;
  --bg-speed-2: 30s;
  --blob-speed: 24s;
}

/* ========== Base ========== */
*{box-sizing:border-box}
html,body{height:100%}
html{font-family:var(--font-sans);font-size:var(--base-font-size);-webkit-font-smoothing:antialiased}
body{
  margin:0;
  color:#eaf2fb;
  background: linear-gradient(180deg,var(--bg-1) 0%, var(--bg-2) 100%);
  overflow-x:hidden;
  line-height:1.45;
  -webkit-font-smoothing:antialiased;
}

/* ========== Live background layers (non-blocking for pointer events) ========== */
body::before{
  content:"";
  position:fixed; inset:0; z-index:0;
  background: linear-gradient(120deg, rgba(124,58,237,0.16), rgba(94,234,212,0.08) 40%, rgba(124,58,237,0.06) 70%);
  mix-blend-mode: screen;
  filter: blur(36px) saturate(1.05);
  animation: bgMove var(--bg-speed-1) ease-in-out infinite alternate;
  pointer-events: none; /* <-- important: allow clicks through */
}
body::after{
  content:"";
  position:fixed; inset:0; z-index:0;
  background:
    radial-gradient(900px 480px at 8% 18%, rgba(124,58,237,0.14), transparent 18%),
    radial-gradient(700px 320px at 84% 82%, rgba(94,234,212,0.12), transparent 14%),
    repeating-radial-gradient(circle at 50% 50%, rgba(255,255,255,0.01) 0 2px, transparent 2px 6px);
  filter: blur(26px) contrast(1);
  animation: bgMoveAlt calc(var(--bg-speed-2)) ease-in-out infinite alternate-reverse;
  pointer-events: none; /* <-- important */
}

/* blob container: static element (must exist in HTML) */
.bg-blobs{
  position:fixed; inset:0; z-index:0; pointer-events:none; overflow:hidden;
}
.bg-blobs::before, .bg-blobs::after, .bg-blobs > span{
  content:""; display:block; position:absolute; border-radius:50%;
  filter: blur(34px) opacity(.92);
  mix-blend-mode: screen;
}
.bg-blobs::before{
  width:560px; height:560px; left:-10%; top:6%;
  background: radial-gradient(circle at 30% 30%, rgba(124,58,237,0.95), rgba(124,58,237,0.18));
  animation: blobMove1 var(--blob-speed) cubic-bezier(.4,.2,.2,1) infinite;
}
.bg-blobs::after{
  width:460px; height:460px; right:-6%; bottom:8%;
  background: radial-gradient(circle at 70% 70%, rgba(94,234,212,0.95), rgba(94,234,212,0.14));
  animation: blobMove2 calc(var(--blob-speed)*1.15) cubic-bezier(.4,.2,.2,1) infinite;
}
.bg-blobs > span{
  width:340px; height:340px; left:28%; bottom:-6%;
  background: radial-gradient(circle at 50% 40%, rgba(255,255,255,0.14), rgba(255,255,255,0.02));
  animation: blobMove3 calc(var(--blob-speed)*0.92) cubic-bezier(.4,.2,.2,1) infinite;
}

/* subtle vignette to focus content */
.content-vignette{
  position:fixed; inset:0; z-index:2; pointer-events:none;
  background: radial-gradient(60% 60% at 20% 20%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.12) 65%, rgba(0,0,0,0.25) 100%);
}

/* ========== Layering and UI ========== */
.site-wrapper{position:relative; z-index:30; min-height:100vh}

/* keep tsparticles behind UI (if still in use) */
#tsparticles{position:fixed; inset:0; z-index:10; pointer-events:none}

/* ========== Sidebar ========== */
#sidebar{
  position:fixed;
  left:0; top:0;
  width:var(--sidebar-width);
  height:100vh;
  padding:14px 12px;
  background: linear-gradient(180deg, rgba(8,12,20,0.75), rgba(6,9,18,0.65));
  border-right: 1px solid rgba(255,255,255,0.02);
  z-index:35;
  overflow:auto;
  box-shadow: 4px 0 18px rgba(2,6,23,0.45);
}

/* nav list styling */
#sidebar .sidebar-nav{list-style:none; padding:6px 2px; margin:6px 0}
#sidebar .nav-item{margin:8px 0}
#sidebar a{display:flex; align-items:center; gap:12px; color:var(--accent-2); text-decoration:none; padding:10px 12px; border-radius:10px; font-weight:600}
#sidebar a:hover, #sidebar a:focus{background:rgba(255,255,255,0.02); color:var(--accent-1); outline:none}
#sidebar a .nav-icon{width:20px; text-align:center; opacity:0.95}

/* sidebar compact state */
body.sidebar-collapsed #sidebar{width:72px}
body.sidebar-collapsed #sidebar .sidebar-nav a{justify-content:center}
body.sidebar-collapsed #main-content{margin-left:calc(72px + 20px)}

/* toggles in sidebar */
#sidebar-toggle{display:inline-flex; align-items:center; justify-content:center; background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--muted); padding:6px; border-radius:6px; cursor:pointer}
#sidebar .sidebar-footer{margin-top:14px; padding-top:8px; border-top:1px dashed rgba(255,255,255,0.02)}
#theme-toggle{background:transparent; border:0; color:var(--muted); cursor:pointer; padding:6px; display:inline-flex; align-items:center; gap:6px}

/* ========== Main content ========== */
#main-content{
  margin-left: calc(var(--sidebar-width) + 36px);
  padding:36px 48px;
  z-index:40;
  position:relative;
  min-height:100vh;
}

/* header */
#typing-title{font-size:2.4rem; margin:0 0 8px; font-weight:800; color:#fff; text-shadow:0 6px 22px rgba(2,6,23,0.5)}
#main-content p{color:var(--muted); margin:0 0 14px}
.main-button{display:inline-block; margin-top:10px; text-decoration:none; padding:10px 14px; border-radius:12px; background:linear-gradient(90deg,var(--accent-1),var(--accent-2)); color:#071022; font-weight:700; box-shadow:0 8px 20px rgba(7,16,30,0.6)}

/* ========== Cards ========== */
.card-container{display:grid; grid-template-columns:repeat(2,1fr); gap:20px; align-items:start; margin-top:18px}
@media (max-width:980px){ .card-container{grid-template-columns:repeat(auto-fit,minmax(320px,1fr))} }

.card{background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:18px; border-radius:12px; box-shadow:var(--shadow-1); border:1px solid rgba(255,255,255,0.03); min-height:420px}
.card-inner h3{margin:0 0 10px; font-size:1.05rem; color:#fff}
.card img{max-width:100%; height:auto; display:block; border-radius:6px; margin-bottom:10px}
.code-block{background:rgba(0,0,0,0.38); padding:12px; border-radius:10px; overflow:auto; border:1px solid rgba(255,255,255,0.02)}
.code-block pre{margin:0; color:#dff6ef; font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace; font-size:0.9rem}
.code-block-header{display:flex; justify-content:space-between; align-items:center; margin-bottom:10px}
.code-block-dots{display:flex; gap:6px; align-items:center}
.dot{width:11px; height:11px; border-radius:50%}
.dot.red{background:#ff5f56}
.dot.yellow{background:#ffbd2e}
.dot.green{background:#27c93f}

/* copy button */
.copy-button{background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--muted); padding:8px 12px; border-radius:10px; cursor:pointer}
.copy-button:hover{background:rgba(255,255,255,0.02); color:#fff}

/* ========== Theme: light override ========== */
body.light{
  color:#0f1724;
  background: linear-gradient(180deg,#f6fbff 0%, #eef6ff 100%);
}
body.light .card{background:linear-gradient(180deg, rgba(6,10,20,0.02), rgba(6,10,20,0.01)); border:1px solid rgba(6,10,20,0.03)}
body.light #sidebar{background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-right-color: rgba(7,16,30,0.03)}
body.light a{color:var(--accent-2)}

/* ========== Accessibility & reduced motion ========== */
@media (prefers-reduced-motion: reduce){
  body::before, body::after, .bg-blobs::before, .bg-blobs::after, .bg-blobs>span{animation:none; transition:none}
}

/* ========== Keyframes ========== */
@keyframes bgMove{
  0%{transform: translate3d(-4%, -2%, 0) scale(1.03)}
  50%{transform: translate3d(4%, 2%, 0) scale(1)}
  100%{transform: translate3d(-4%, -2%, 0) scale(1.03)}
}
@keyframes bgMoveAlt{
  0%{transform: translate3d(2%, 1%, 0) scale(1)}
  100%{transform: translate3d(-2%, -1%, 0) scale(1.02)}
}
@keyframes blobMove1{
  0%{transform: translateY(0) translateX(0) rotate(0) scale(1)}
  33%{transform: translateY(-4vh) translateX(6vw) rotate(6deg) scale(1.06)}
  66%{transform: translateY(4vh) translateX(-3vw) rotate(-6deg) scale(0.98)}
  100%{transform: translateY(0) translateX(0) rotate(0) scale(1)}
}
@keyframes blobMove2{
  0%{transform: translateY(0) translateX(0) rotate(0) scale(1)}
  50%{transform: translateY(10vh) translateX(-8vw) rotate(8deg) scale(.94)}
  100%{transform: translateY(0) translateX(0) rotate(0) scale(1)}
}
@keyframes blobMove3{
  0%{transform: translateY(0) translateX(0) rotate(0) scale(1)}
  50%{transform: translateY(-8vh) translateX(-2vw) rotate(-4deg) scale(1.08)}
  100%{transform: translateY(0) translateX(0) rotate(0) scale(1)}
}

/* ========== Print fallback ========== */
@media print{
  body::before, body::after, .bg-blobs {display:none}
  #sidebar{position:relative; width:100%}
  #main-content{margin-left:0; padding:8px}
}
/* ---------- Post navigation (prev / next) ---------- */
.post-nav{
  display:flex;
  gap:18px;
  align-items:stretch;
  margin-top:28px;
  margin-bottom:28px;
}

/* responsive: stack pada layar kecil */
@media (max-width:720px){
  .post-nav{flex-direction:column}
}

/* each nav item */
.post-nav-item{
  display:flex;
  gap:14px;
  align-items:center;
  text-decoration:none;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  padding:12px 14px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.04);
  box-shadow: 0 8px 28px rgba(2,6,23,0.45);
  color:inherit;
  min-height:92px;
  flex:1 1 0;
  transition: transform .28s cubic-bezier(.2,.8,.2,1), box-shadow .28s, background .28s;
  position:relative;
  overflow:hidden;
}

/* hover/focus */
.post-nav-item:hover, .post-nav-item:focus{
  transform: translateY(-6px);
  box-shadow: 0 18px 40px rgba(2,6,23,0.55);
  outline: none;
}

/* left / right alignment (optional visual) */
.post-nav-item.prev{justify-content:flex-start}
.post-nav-item.next{justify-content:flex-end; text-align:right}

/* thumbnail */
.nav-thumb{
  width:84px; height:68px; border-radius:8px;
  background-size:cover; background-position:center;
  flex: 0 0 84px;
  box-shadow: inset 0 0 28px rgba(0,0,0,0.25);
  transition: transform .35s ease;
}
.post-nav-item:hover .nav-thumb{ transform: scale(1.03) }

/* body text */
.nav-body{ display:flex; flex-direction:column; gap:4px; min-width:0; align-items:flex-start }
.post-nav-item.next .nav-body{ align-items:flex-end }

/* kicker, title, desc */
.nav-kicker{ font-size:0.875rem; color:var(--muted); font-weight:700; letter-spacing:0.2px }
.nav-title{ font-weight:800; font-size:1.05rem; color:#fff; display:block; white-space:nowrap; text-overflow:ellipsis; overflow:hidden; max-width:100% }
.nav-desc{ font-size:0.87rem; color:rgba(255,255,255,0.65) }

/* small arrow decoration on the outside edge */
.post-nav-item::after{
  content:"";
  position:absolute; inset: auto -40px auto auto;
  width:120px; height:120px; transform: rotate(0deg);
  filter: blur(34px) opacity(.12);
  pointer-events:none;
}
.post-nav-item.prev::after{ right:-36px; background: radial-gradient(circle at 10% 20%, rgba(124,58,237,0.22), transparent 25%) }
.post-nav-item.next::after{ left:-36px; right:auto; background: radial-gradient(circle at 90% 80%, rgba(94,234,212,0.18), transparent 25%) }

/* focus visible accessible style */
.post-nav-item:focus-visible{
  outline: 3px solid rgba(94,234,212,0.12);
  outline-offset: 4px;
}

/* improved stacking on small widths */
@media (max-width:480px){
  .nav-thumb{ width:72px; height:56px; }
  .nav-title{ font-size:1rem }
}
/* === Sidebar smooth transitions & mobile overlay === */

/* smooth page scroll for internal anchors */
html { scroll-behavior: smooth; }

/* ensure transitions on sidebar + main content */
#sidebar {
  transition: width .36s cubic-bezier(.2,.9,.2,1), transform .36s cubic-bezier(.2,.9,.2,1);
  will-change: width, transform;
}

/* collapsed state (desktop) */
body.sidebar-collapsed #sidebar {
  width: 72px !important; /* compact width */
}
body.sidebar-collapsed #main-content {
  margin-left: calc(72px + 20px) !important;
  transition: margin-left .36s cubic-bezier(.2,.9,.2,1);
}

/* expanded (normal) layout */
#main-content {
  transition: margin-left .36s cubic-bezier(.2,.9,.2,1), padding .28s;
}

/* mobile overlay used when sidebar opens on small screens */
.mobile-overlay {
  position: fixed;
  inset: 0;
  z-index: 34; /* slightly below sidebar which is 35 */
  background: rgba(6,9,18,0.45);
  opacity: 0;
  pointer-events: none;
  transition: opacity .28s ease;
}
/* active overlay visible */
body.sidebar-open .mobile-overlay {
  opacity: 1;
  pointer-events: auto;
}

/* mobile sidebar slide animation (optional improvement) */
@media (max-width: 768px) {
  #sidebar {
    transform: translateX(-6px); /* default slight offset */
  }
  body.sidebar-open #sidebar {
    transform: translateX(0);
    box-shadow: 12px 0 40px rgba(2,6,23,0.6);
  }
}

/* make nav links feel nicer on click */
#sidebar a {
  transition: transform .12s ease, background .18s;
}
#sidebar a:active { transform: translateY(1px) scale(.998); }

/* focus-visible clearer for keyboard users */
#sidebar a:focus-visible {
  outline: 3px solid rgba(94,234,212,0.12);
  outline-offset: 4px;
  border-radius: 8px;
}

/* small improvement: prevent large reflows on page load */
#main-content, #sidebar { will-change: transform, margin-left; }

/* optional: reduce blur for low-end devices */
@media (max-width: 480px) {
  body::before, body::after { filter: blur(16px) saturate(1.02); }
}
